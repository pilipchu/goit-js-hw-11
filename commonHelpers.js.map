{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import {showLoader} from '../main'\nexport default function getImages(image) {\n    const BASE_URL = 'https://pixabay.com/api/'\n    const params = new URLSearchParams({\n        key: '43041938-51a06b63921488a862c0fcc6d',\n        q: image,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true\n    })\n    const url = `${BASE_URL}?${params}`\n    showLoader()\n    return fetch(url)\n        .then((response) => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        })\n}\n    \n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport {list, lightbox} from '../main'\n\n\nexport default function makeGallery(arr) {\n    if (arr.length == 0) {\n        iziToast.error({\n            message: \"Sorry, there are no images matching your search query. Please try again!\",\n            position: \"topRight\",\n        })\n    } else {\n        const gallery =  arr.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `<li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n    </a>\n    <div class=\"content-image\">\n    <p class=\"pege-item\">Likes<span class=\"inf-item\">${likes}</span></p>\n    <p class=\"pege-item\">Views<span class=\"inf-item\">${views}</span></p>\n    <p class=\"pege-item\">Comments<span class=\"inf-item\">${comments}</span></p>\n    <p class=\"pege-item\">Downloads<span class=\"inf-item\">${downloads}</span></p>\n    </div>\n    </li>`).join(\"\")\n        list.innerHTML = gallery\n         \n        lightbox.refresh();\n    }\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport getImages from './js/pixabay-api';\nimport makeGallery from \"./js/render-functions\";\n\n\nconst formEl = document.querySelector('form')\nconst loadItem = document.querySelector('.loader-cont')\nexport const list = document.querySelector('.gallery-image')\n\n\nloadItem.style.display = 'none';\n\nexport const showLoader = () => {\n    loadItem.style.display = 'flex';\n};\n\nconst hideLoader = () => {\n    loadItem.style.display = 'none';\n};\n\nfunction sendForm(evt) {\n    evt.preventDefault();\n    list.innerHTML = \"\";\n\n    const image = evt.target.elements.search.value.trim()\n\n    if (image !== '') {\n        getImages(image)\n            .then(data => {\n                makeGallery(data.hits)\n                hideLoader()\n            })\n        formEl.reset()\n    } else {\n        iziToast.info({\n            message: 'Please complete the field!',\n            position: 'topRight'\n        })\n    }\n}\n\nformEl.addEventListener('submit', sendForm)\n\nexport const lightbox = new SimpleLightbox('.gallery-link', { \n    captionsData: 'alt',\n  captionDelay: 250,\n    overlayOpacity: 0.8,\n })\n\n"],"names":["getImages","image","BASE_URL","params","url","showLoader","response","makeGallery","arr","iziToast","gallery","webformatURL","largeImageURL","tags","likes","views","comments","downloads","list","lightbox","formEl","loadItem","hideLoader","sendForm","evt","data","SimpleLightbox"],"mappings":"6vBACe,SAASA,EAAUC,EAAO,CACrC,MAAMC,EAAW,2BACXC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EACKG,EAAM,GAAGF,CAAQ,IAAIC,CAAM,GACjC,OAAAE,EAAY,EACL,MAAMD,CAAG,EACX,KAAME,GAAa,CAChB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,CACT,CCde,SAASC,EAAYC,EAAK,CACrC,GAAIA,EAAI,QAAU,EACdC,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,UACtB,CAAS,MACE,CACH,MAAMC,EAAWF,EAAI,IAAI,CAAC,CAAE,aAAAG,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA,oCAC3EL,CAAa;AAAA,sCACXD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,uDAGTC,CAAK;AAAA,uDACLC,CAAK;AAAA,0DACFC,CAAQ;AAAA,2DACPC,CAAS;AAAA;AAAA,UAE1D,EAAE,KAAK,EAAE,EACXC,EAAK,UAAYR,EAEjBS,EAAS,QAAO,CACnB,CACL,CCnBA,MAAMC,EAAS,SAAS,cAAc,MAAM,EACtCC,EAAW,SAAS,cAAc,cAAc,EACzCH,EAAO,SAAS,cAAc,gBAAgB,EAG3DG,EAAS,MAAM,QAAU,OAElB,MAAMhB,EAAa,IAAM,CAC5BgB,EAAS,MAAM,QAAU,MAC7B,EAEMC,EAAa,IAAM,CACrBD,EAAS,MAAM,QAAU,MAC7B,EAEA,SAASE,EAASC,EAAK,CACnBA,EAAI,eAAc,EAClBN,EAAK,UAAY,GAEjB,MAAMjB,EAAQuB,EAAI,OAAO,SAAS,OAAO,MAAM,KAAM,EAEjDvB,IAAU,IACVD,EAAUC,CAAK,EACV,KAAKwB,GAAQ,CACVlB,EAAYkB,EAAK,IAAI,EACrBH,EAAY,CAC5B,CAAa,EACLF,EAAO,MAAO,GAEdX,EAAS,KAAK,CACV,QAAS,6BACT,SAAU,UACtB,CAAS,CAET,CAEAW,EAAO,iBAAiB,SAAUG,CAAQ,EAEnC,MAAMJ,EAAW,IAAIO,EAAe,gBAAiB,CACxD,aAAc,MAChB,aAAc,IACZ,eAAgB,EAClB,CAAA"}